<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>Liquidation - Delta User Documentation</title>
<link rel="stylesheet" href="../../../assets/css/just-the-docs.css">
<script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script>
<script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
<link rel="apple-touch-icon" href="../../../assets/images/favicon.png" type="image/png">
<link rel="shortcut icon" href="../../../assets/images/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="page-wrap">
<div class="side-bar" style="background-color: #19222d;">
<a href="../../../../index.html" class="site-title fs-6 lh-tight" style="padding-top: 10px; background-color: #19222d;">

<img src="../../../../wp-content/uploads/2018/10/logo-light.png" style="max-width: 125px;" alt="">
</a>
<span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
<div class="navigation main-nav js-main-nav">
<nav role="navigation" aria-label="Main navigation">
<ul class="navigation-list">
<li class="navigation-list-item">
<a href="../../../index.html" class="navigation-list-link">Getting Started</a>
</li>
<li class="navigation-list-item">
<a href="../../tutorials/futures-guide/index.html" class="navigation-list-link">Futures Guide</a>
</li>
<li class="navigation-list-item">
<a href="../../tutorials/perpetual-contracts/index.html" class="navigation-list-link">Perpetual Contracts Guide</a>
</li>
<li class="navigation-list-item">
<a href="../../tutorials/move-contracts/index.html" class="navigation-list-link">MOVE Contracts Guide</a>
</li>
<li class="navigation-list-item active">
<a href="../../margin-trading-guide.html" class="navigation-list-link">Margin Trading Guide</a>
<ul class="navigation-list-child-list ">
<li class="navigation-list-item ">
<a href="../fair-price/index.html" class="navigation-list-link">Fair Price Marking</a>
</li>
<li class="navigation-list-item ">
<a href="../margin-explainer/index.html" class="navigation-list-link">Margin Explainer</a>
</li>
<li class="navigation-list-item ">
<a href="../OrderTypes/index.html" class="navigation-list-link">Order Types</a>
</li>
<li class="navigation-list-item ">
<a href="../Leverage/index.html" class="navigation-list-link">Leverage</a>
</li>
<li class="navigation-list-item ">
<a href="../PnL-Math/index.html" class="navigation-list-link">Profit Loss Math</a>
</li>
<li class="navigation-list-item ">
<a href="../automargin/index.html" class="navigation-list-link">Auto Margin Top-up</a>
</li>
<li class="navigation-list-item  active">
<a href="index.html" class="navigation-list-link active">Liquidation</a>
</li>
<li class="navigation-list-item ">
<a href="../ADL/index.html" class="navigation-list-link">Auto-Deleveraging</a>
</li>
<li class="navigation-list-item ">
<a href="../trading-bands/index.html" class="navigation-list-link">Allowed Trading Bands</a>
</li>
<li class="navigation-list-item ">
<a href="../market-disruption/index.html" class="navigation-list-link">Market Disruption</a>
</li>
<li class="navigation-list-item ">
<a href="../trade-annulment/index.html" class="navigation-list-link">Trade Annulment</a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<footer role="contentinfo" class="site-footer">

<a href="https://twitter.com/Delta_Exchange">
<img src="../../../../wp-content/themes/twentyseventeen-child/img/twitter.svg">
</a>
<a href="https://github.com/delta-exchange">
<img src="../../../../wp-content/themes/twentyseventeen-child/img/cat.svg">
</a>
<a href="https://t.me/deltaexchat">
<img src="../../../../wp-content/themes/twentyseventeen-child/img/telegram.svg">
</a>
<a href="https://medium.com/delta-exchange">
<img src="../../../../wp-content/themes/twentyseventeen-child/img/medium.svg">
</a>
<a href="https://www.facebook.com/deltaexchg">
<img src="../../../../wp-content/themes/twentyseventeen-child/img/facebook.svg">
</a>
</footer>
</div>
<div class="main-content-wrap js-main-content" tabindex="0">
<div class="page-header">
<div class="main-content">
<div class="search js-search">
<div class="search-input-wrap">
<input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Delta User Documentation" aria-label="Search Delta User Documentation" autocomplete="off">
<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" /><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" /></g></svg>
</div>
<div class="js-search-results search-results-wrap"></div>
</div>
<ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
<li class="d-inline-block my-0"><a href="https://delta.exchange/app">Back To Trading</a></li>
</ul>
</div>
</div>
<div class="main-content">
<nav class="breadcrumb-nav">
<ol class="breadcrumb-nav-list">
<li class="breadcrumb-nav-list-item"><a href="../../margin-trading-guide.html">Margin Trading Guide</a></li>
<li class="breadcrumb-nav-list-item"><span>Liquidation</span></li>
</ol>
</nav>
<div id="main-content" class="page-content" role="main">
<h1 id="liquidation">Liquidation</h1>
<p>Each position on Delta Exchange has two associated prices:</p>
<ul>
<li>
<p><strong>Liquidation Price:</strong> At Liquidation Price, the difference of Position Margin minus Unrealized PnL of the position is equal to the Maintenance Margin or Liquidation Margin.</p>
</li>
<li>
<p><strong>Bankruptcy Price:</strong> At Bankruptcy Price, the Unrealized Loss of a position equal to the Position Margin.</p>
</li>
</ul>
<p>A position goes into liquidation when <a href="../fair-price/index.html">Mark Price</a> reaches the Liquidation Price of the position. It is worth noting that since Delta Exchange uses Isolated Margin, liquidation of position in a particular contract has no bearing on other existing positions and open orders on other derivative contracts.</p>
<p>Liquidation mechanism on Delta Exchange is comprised of the following steps:</p>
<p><strong>When position size &lt; Position Threshold</strong></p>
<p>When the size of the position in liquidation is lower than the <a href="../margin-explainer/index.html#risk-limits-margin-requirement-vs-position-size">Position Threshold</a> the entire position is liquidated in one shot. The steps involved in liquidated such a position are as follows:</p>
<ul>
<li>
<p>All open orders on the contract are cancelled. This may or may not free up some margin blocked for these order.</p>
</li>
<li>
<p>An Immediate-or-Cancel (IOC) order is submitted to the market to close the entire position. The limit price of this order is set to the Bankruptcy Price. This ensures that the Realised Loss will always be lower than or equal to the Position Margin.</p>
</li>
<li>
<p>If the liquidation results in being filled at a price better than the Bankruptcy Price, the remaining Position Margin is used to offset the liquidation charge.</p>
</li>
<li>
<p>In case the position is not fully liquidated (for example due to lack of liquidity), an off market trade for the remaining position is executed at the Bankruptcy Price between the trader and the Liquidation Engine. This essentially results in the Liquidation Engine taking over the remaining position.</p>
</li>
</ul>
<p><strong>When position size &gt; Position Threshold</strong></p>
<p>When the size of the position in liquidation is greater than the <a href="../margin-explainer/index.html#risk-limits-margin-requirement-vs-position-size">Position Threshold</a> Incremental Liquidation is used. Since reducing the position size lowers the margin requirement, it is possible to liquidate part of a position and ensure that the remainder of the position has sufficiently margined. Thus, Incremental Liquidation helps to avoid full liquidation of a trader’s position. The steps involved in this are listed below:</p>
<ul>
<li>
<p>All open orders on the contract are cancelled. This may or may not free up some margin blocked for these order.</p>
</li>
<li>
<p>The liquidation Engine computes the minimum position size (the Liquidation Size) required to be liquidated such that the liquidation price of the remaining position is 1% away from the Mark Price. Please note that if the Liquidation Size turns our to be equal to the position size, then the entire position will be liquidated.</p>
</li>
<li>
<p>The Partial Position in Liquidation (PPL) is treated as a separate position and is assumed to have pro-rata share of the position margin. The Maintenance Margin percent (MM%) for the PPL is computed Using the Liquidation Size. The Implied Bankruptcy Price of the PPL is assumed to be MM% away from the current Mark Price. An Immediate-or-Cancel order of size equal to Liquidation Size with limit price equal to the Implied Bankruptcy Price is submitted to the market.</p>
</li>
<li>
<p>If the IOC order is filled at a price better than the Implied Bankruptcy Price, a liquidation charge (equaling <script type="math/tex">Maintenance\ Margin_{min}</script>) is deducted from the position margin assigned to the PPL. Any leftover margin after this deduction is added to the position margin of the still open position.</p>
</li>
<li>
<p>In case the ICO order is not fully filled, an off market trade at the Implied Bankruptcy Price of the PPL is executed between the trader and the Liquidation Engine. This essentially results in the Liquidation Engine taking over the part of the PPL that could not be liquidated.</p>
</li>
</ul>
<h2 id="liquidation-engine">Liquidation Engine</h2>
<p>As is evident from the discussion above, the Liquidation Engine always takes over a position at its bankruptcy price. The goal of the Liquidation Engine is to close positions it acquires at price which is equal to or better than the acquisition price. To this end, as soon as the Liquidation Engine takes over a position, it places a limit order to close the position. Generally, the price of this limit order will be away from the current Mark Price Liquidation Engine has acquired the position. Generally, this limit price would be away from Mark Price and would provide an opportunity to traders attractive entry point. However, if the Mark Price breaches the limit price, then the Liquidation Engine cancels the limit order and triggers <a href="../ADL.1.html">auto-deleveraging</a>.</p>
<h2 id="liquidation-examples">Liquidation Examples</h2>
<p>For illustrative purposes, let’s assume that the maintenance margin requirement for the BTCUSD perpetual contract is given by the following equation:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>When position size &lt; 5 BTC, MM% = 0.5%
When position size &gt; 5 BTC, MM% = 0.5% + 0.075% * (position size - 5) 
</code></pre></div></div>
<p><strong>Case 1</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A trader is long 20000 contracts at an entry price of USD 10000 at maximum allowed leverage
Position  size = 2 BTC =&gt; MM% = 0.5%
liquidation price = 9950 &amp; bankruptcy price = 9901
</code></pre></div></div>
<p>When Mark Price goes below 9950, this position will go into liquidation and it will be liquidated in a single shot by placing a limit IOC order to sell 20000 contracts with a limit price of 9901. In case, some part of the limit IOC order remains unfilled, the Liquidation Engine takes over the remaining position through an off market trade at 9901.</p>
<p><strong>Case 2</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A trade is long 200000 contracts at an entry price of USD 10000 at maximum allowed leverage
Position  size = 2 BTC =&gt; MM% = 1.63% &amp; IM% = 3.25%
liquidation price = 9940.5 &amp; bankruptcy price = 9685.5
</code></pre></div></div>
<p>Lets assume current Mark Price is 9840. In this situation, incremental liquidation will apply. Because of adverse price movement, the remaining position margin is sufficient to support a position of only 62611 contracts. The system will thus attempt to liquidate a long position of 137389. This is the Partial Position in Liquidation or PPL. The maintenance margin required for a position of PPL’s size is 1.16%. Therefore, the liquidation price of PPL is set to 9728, i.e. 1% away from the current Mark Price of 9840. This means a sell limit IOC order with price of 9728 is sent to the order book to close PPL.</p>
<p>Let’s further assume that the order book currently does not have sufficient depth to fill this limit IOC order and 50000 contracts remain unfilled. In this case, the Liquidation Engine would take over the unfiled part and would acquire a long position of 50000 contracts at 9728. Recall that the Mark Price is still at 9840. Now, the Liquidation Engine will place a sell limit order at 9728 to close this recently acquired position.</p>
<p>With his position partially liquidated, the trader is now left with a long position of 62611 contracts. Because the position size is smaller, so is the margin requirement for it. The new liquidation price and bankruptcy price for the remaining position are 9648 and 9593 respectively.</p>
</div>
</div>
</div>
</div>
</body>
</html>
